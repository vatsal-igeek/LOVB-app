{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":40,"index":119}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/TeamContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.TeamProvider = TeamProvider;\n  exports.useTeam = useTeam;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _AuthContext = require(_dependencyMap[1], \"./AuthContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const TeamContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function TeamProvider({\n    children\n  }) {\n    const {\n      user\n    } = (0, _AuthContext.useAuth)();\n    const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n    const [lineup, setLineup] = (0, _react.useState)({\n      setter: null,\n      outsideHitter: null,\n      oppositeHitter: null,\n      middleBlocker: null,\n      libero: null,\n      defensiveSpecialist: null,\n      creditsUsed: 0,\n      remaining: 100\n    });\n    const [saving, setSaving] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      if (user) {\n        loadLineup();\n      }\n    }, [user]);\n    const calculateCredits = newLineup => {\n      const positions = ['setter', 'outsideHitter', 'oppositeHitter', 'middleBlocker', 'libero', 'defensiveSpecialist'];\n      let total = 0;\n      positions.forEach(pos => {\n        const player = newLineup[pos];\n        if (player && typeof player === 'object' && 'creditCost' in player) {\n          total += player.creditCost;\n        }\n      });\n      return {\n        creditsUsed: total,\n        remaining: 100 - total\n      };\n    };\n    const setPlayerToPosition = (position, player) => {\n      const newLineup = {\n        ...lineup,\n        [position]: player\n      };\n      const credits = calculateCredits(newLineup);\n      setLineup({\n        ...newLineup,\n        ...credits\n      });\n    };\n    const saveLineup = async () => {\n      if (!user) return;\n      setSaving(true);\n      try {\n        const body = {\n          setter: lineup.setter?.id || null,\n          outsideHitter: lineup.outsideHitter?.id || null,\n          oppositeHitter: lineup.oppositeHitter?.id || null,\n          middleBlocker: lineup.middleBlocker?.id || null,\n          libero: lineup.libero?.id || null,\n          defensiveSpecialist: lineup.defensiveSpecialist?.id || null\n        };\n        const response = await fetch(`${BACKEND_URL}/api/lineup/save`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${user.token}`\n          },\n          body: JSON.stringify(body)\n        });\n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error.detail || 'Failed to save lineup');\n        }\n      } finally {\n        setSaving(false);\n      }\n    };\n    const loadLineup = async () => {\n      if (!user) return;\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/lineup`, {\n          headers: {\n            'Authorization': `Bearer ${user.token}`\n          }\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setLineup({\n            setter: data.setter,\n            outsideHitter: data.outsideHitter,\n            oppositeHitter: data.oppositeHitter,\n            middleBlocker: data.middleBlocker,\n            libero: data.libero,\n            defensiveSpecialist: data.defensiveSpecialist,\n            creditsUsed: data.creditsUsed || 0,\n            remaining: data.remaining || 100\n          });\n        }\n      } catch (error) {\n        console.error('Failed to load lineup:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(TeamContext.Provider, {\n      value: {\n        lineup,\n        setPlayerToPosition,\n        saveLineup,\n        loadLineup,\n        saving\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }, this);\n  }\n  function useTeam() {\n    const context = (0, _react.useContext)(TeamContext);\n    if (context === undefined) {\n      throw new Error('useTeam must be used within a TeamProvider');\n    }\n    return context;\n  }\n});","lineCount":137,"map":[[8,2,46,0,"exports"],[8,9,46,0],[8,10,46,0,"TeamProvider"],[8,22,46,0],[8,25,46,0,"TeamProvider"],[8,37,46,0],[9,2,154,0,"exports"],[9,9,154,0],[9,10,154,0,"useTeam"],[9,17,154,0],[9,20,154,0,"useTeam"],[9,27,154,0],[10,2,1,0],[10,6,1,0,"_react"],[10,12,1,0],[10,15,1,0,"require"],[10,22,1,0],[10,23,1,0,"_dependencyMap"],[10,37,1,0],[11,2,2,0],[11,6,2,0,"_AuthContext"],[11,18,2,0],[11,21,2,0,"require"],[11,28,2,0],[11,29,2,0,"_dependencyMap"],[11,43,2,0],[12,2,2,40],[12,6,2,40,"_reactJsxDevRuntime"],[12,25,2,40],[12,28,2,40,"require"],[12,35,2,40],[12,36,2,40,"_dependencyMap"],[12,50,2,40],[13,2,44,0],[13,8,44,6,"TeamContext"],[13,19,44,17],[13,35,44,20],[13,39,44,20,"createContext"],[13,45,44,33],[13,46,44,33,"createContext"],[13,59,44,33],[13,61,44,63,"undefined"],[13,70,44,72],[13,71,44,73],[14,2,46,7],[14,11,46,16,"TeamProvider"],[14,23,46,28,"TeamProvider"],[14,24,46,29],[15,4,46,31,"children"],[16,2,46,71],[16,3,46,72],[16,5,46,74],[17,4,47,2],[17,10,47,8],[18,6,47,10,"user"],[19,4,47,15],[19,5,47,16],[19,8,47,19],[19,12,47,19,"useAuth"],[19,24,47,26],[19,25,47,26,"useAuth"],[19,32,47,26],[19,34,47,27],[19,35,47,28],[20,4,48,2],[20,10,48,8,"BACKEND_URL"],[20,21,48,19],[20,24,48,22,"process"],[20,31,48,29],[20,32,48,30,"env"],[20,35,48,33],[20,36,48,34,"EXPO_PUBLIC_BACKEND_URL"],[20,59,48,57],[20,63,48,61],[20,65,48,63],[21,4,50,2],[21,10,50,8],[21,11,50,9,"lineup"],[21,17,50,15],[21,19,50,17,"setLineup"],[21,28,50,26],[21,29,50,27],[21,32,50,30],[21,36,50,30,"useState"],[21,42,50,38],[21,43,50,38,"useState"],[21,51,50,38],[21,53,50,47],[22,6,51,4,"setter"],[22,12,51,10],[22,14,51,12],[22,18,51,16],[23,6,52,4,"outsideHitter"],[23,19,52,17],[23,21,52,19],[23,25,52,23],[24,6,53,4,"oppositeHitter"],[24,20,53,18],[24,22,53,20],[24,26,53,24],[25,6,54,4,"middleBlocker"],[25,19,54,17],[25,21,54,19],[25,25,54,23],[26,6,55,4,"libero"],[26,12,55,10],[26,14,55,12],[26,18,55,16],[27,6,56,4,"defensiveSpecialist"],[27,25,56,23],[27,27,56,25],[27,31,56,29],[28,6,57,4,"creditsUsed"],[28,17,57,15],[28,19,57,17],[28,20,57,18],[29,6,58,4,"remaining"],[29,15,58,13],[29,17,58,15],[30,4,59,2],[30,5,59,3],[30,6,59,4],[31,4,61,2],[31,10,61,8],[31,11,61,9,"saving"],[31,17,61,15],[31,19,61,17,"setSaving"],[31,28,61,26],[31,29,61,27],[31,32,61,30],[31,36,61,30,"useState"],[31,42,61,38],[31,43,61,38,"useState"],[31,51,61,38],[31,53,61,39],[31,58,61,44],[31,59,61,45],[32,4,63,2],[32,8,63,2,"useEffect"],[32,14,63,11],[32,15,63,11,"useEffect"],[32,24,63,11],[32,26,63,12],[32,32,63,18],[33,6,64,4],[33,10,64,8,"user"],[33,14,64,12],[33,16,64,14],[34,8,65,6,"loadLineup"],[34,18,65,16],[34,19,65,17],[34,20,65,18],[35,6,66,4],[36,4,67,2],[36,5,67,3],[36,7,67,5],[36,8,67,6,"user"],[36,12,67,10],[36,13,67,11],[36,14,67,12],[37,4,69,2],[37,10,69,8,"calculateCredits"],[37,26,69,24],[37,29,69,28,"newLineup"],[37,38,69,45],[37,42,69,50],[38,6,70,4],[38,12,70,10,"positions"],[38,21,70,37],[38,24,70,40],[38,25,70,41],[38,33,70,49],[38,35,70,51],[38,50,70,66],[38,52,70,68],[38,68,70,84],[38,70,70,86],[38,85,70,101],[38,87,70,103],[38,95,70,111],[38,97,70,113],[38,118,70,134],[38,119,70,135],[39,6,71,4],[39,10,71,8,"total"],[39,15,71,13],[39,18,71,16],[39,19,71,17],[40,6,72,4,"positions"],[40,15,72,13],[40,16,72,14,"forEach"],[40,23,72,21],[40,24,72,22,"pos"],[40,27,72,25],[40,31,72,29],[41,8,73,6],[41,14,73,12,"player"],[41,20,73,18],[41,23,73,21,"newLineup"],[41,32,73,30],[41,33,73,31,"pos"],[41,36,73,34],[41,37,73,35],[42,8,74,6],[42,12,74,10,"player"],[42,18,74,16],[42,22,74,20],[42,29,74,27,"player"],[42,35,74,33],[42,40,74,38],[42,48,74,46],[42,52,74,50],[42,64,74,62],[42,68,74,66,"player"],[42,74,74,72],[42,76,74,74],[43,10,75,8,"total"],[43,15,75,13],[43,19,75,17,"player"],[43,25,75,23],[43,26,75,24,"creditCost"],[43,36,75,34],[44,8,76,6],[45,6,77,4],[45,7,77,5],[45,8,77,6],[46,6,78,4],[46,13,78,11],[47,8,78,13,"creditsUsed"],[47,19,78,24],[47,21,78,26,"total"],[47,26,78,31],[48,8,78,33,"remaining"],[48,17,78,42],[48,19,78,44],[48,22,78,47],[48,25,78,50,"total"],[49,6,78,56],[49,7,78,57],[50,4,79,2],[50,5,79,3],[51,4,81,2],[51,10,81,8,"setPlayerToPosition"],[51,29,81,27],[51,32,81,30,"setPlayerToPosition"],[51,33,81,31,"position"],[51,41,81,53],[51,43,81,55,"player"],[51,49,81,76],[51,54,81,81],[52,6,82,4],[52,12,82,10,"newLineup"],[52,21,82,19],[52,24,82,22],[53,8,82,24],[53,11,82,27,"lineup"],[53,17,82,33],[54,8,82,35],[54,9,82,36,"position"],[54,17,82,44],[54,20,82,47,"player"],[55,6,82,54],[55,7,82,55],[56,6,83,4],[56,12,83,10,"credits"],[56,19,83,17],[56,22,83,20,"calculateCredits"],[56,38,83,36],[56,39,83,37,"newLineup"],[56,48,83,46],[56,49,83,47],[57,6,84,4,"setLineup"],[57,15,84,13],[57,16,84,14],[58,8,84,16],[58,11,84,19,"newLineup"],[58,20,84,28],[59,8,84,30],[59,11,84,33,"credits"],[60,6,84,41],[60,7,84,42],[60,8,84,43],[61,4,85,2],[61,5,85,3],[62,4,87,2],[62,10,87,8,"saveLineup"],[62,20,87,18],[62,23,87,21],[62,29,87,21,"saveLineup"],[62,30,87,21],[62,35,87,33],[63,6,88,4],[63,10,88,8],[63,11,88,9,"user"],[63,15,88,13],[63,17,88,15],[64,6,90,4,"setSaving"],[64,15,90,13],[64,16,90,14],[64,20,90,18],[64,21,90,19],[65,6,91,4],[65,10,91,8],[66,8,92,6],[66,14,92,12,"body"],[66,18,92,16],[66,21,92,19],[67,10,93,8,"setter"],[67,16,93,14],[67,18,93,16,"lineup"],[67,24,93,22],[67,25,93,23,"setter"],[67,31,93,29],[67,33,93,31,"id"],[67,35,93,33],[67,39,93,37],[67,43,93,41],[68,10,94,8,"outsideHitter"],[68,23,94,21],[68,25,94,23,"lineup"],[68,31,94,29],[68,32,94,30,"outsideHitter"],[68,45,94,43],[68,47,94,45,"id"],[68,49,94,47],[68,53,94,51],[68,57,94,55],[69,10,95,8,"oppositeHitter"],[69,24,95,22],[69,26,95,24,"lineup"],[69,32,95,30],[69,33,95,31,"oppositeHitter"],[69,47,95,45],[69,49,95,47,"id"],[69,51,95,49],[69,55,95,53],[69,59,95,57],[70,10,96,8,"middleBlocker"],[70,23,96,21],[70,25,96,23,"lineup"],[70,31,96,29],[70,32,96,30,"middleBlocker"],[70,45,96,43],[70,47,96,45,"id"],[70,49,96,47],[70,53,96,51],[70,57,96,55],[71,10,97,8,"libero"],[71,16,97,14],[71,18,97,16,"lineup"],[71,24,97,22],[71,25,97,23,"libero"],[71,31,97,29],[71,33,97,31,"id"],[71,35,97,33],[71,39,97,37],[71,43,97,41],[72,10,98,8,"defensiveSpecialist"],[72,29,98,27],[72,31,98,29,"lineup"],[72,37,98,35],[72,38,98,36,"defensiveSpecialist"],[72,57,98,55],[72,59,98,57,"id"],[72,61,98,59],[72,65,98,63],[73,8,99,6],[73,9,99,7],[74,8,101,6],[74,14,101,12,"response"],[74,22,101,20],[74,25,101,23],[74,31,101,29,"fetch"],[74,36,101,34],[74,37,101,35],[74,40,101,38,"BACKEND_URL"],[74,51,101,49],[74,69,101,67],[74,71,101,69],[75,10,102,8,"method"],[75,16,102,14],[75,18,102,16],[75,24,102,22],[76,10,103,8,"headers"],[76,17,103,15],[76,19,103,17],[77,12,104,10],[77,26,104,24],[77,28,104,26],[77,46,104,44],[78,12,105,10],[78,27,105,25],[78,29,105,27],[78,39,105,37,"user"],[78,43,105,41],[78,44,105,42,"token"],[78,49,105,47],[79,10,106,8],[79,11,106,9],[80,10,107,8,"body"],[80,14,107,12],[80,16,107,14,"JSON"],[80,20,107,18],[80,21,107,19,"stringify"],[80,30,107,28],[80,31,107,29,"body"],[80,35,107,33],[81,8,108,6],[81,9,108,7],[81,10,108,8],[82,8,110,6],[82,12,110,10],[82,13,110,11,"response"],[82,21,110,19],[82,22,110,20,"ok"],[82,24,110,22],[82,26,110,24],[83,10,111,8],[83,16,111,14,"error"],[83,21,111,19],[83,24,111,22],[83,30,111,28,"response"],[83,38,111,36],[83,39,111,37,"json"],[83,43,111,41],[83,44,111,42],[83,45,111,43],[84,10,112,8],[84,16,112,14],[84,20,112,18,"Error"],[84,25,112,23],[84,26,112,24,"error"],[84,31,112,29],[84,32,112,30,"detail"],[84,38,112,36],[84,42,112,40],[84,65,112,63],[84,66,112,64],[85,8,113,6],[86,6,114,4],[86,7,114,5],[86,16,114,14],[87,8,115,6,"setSaving"],[87,17,115,15],[87,18,115,16],[87,23,115,21],[87,24,115,22],[88,6,116,4],[89,4,117,2],[89,5,117,3],[90,4,119,2],[90,10,119,8,"loadLineup"],[90,20,119,18],[90,23,119,21],[90,29,119,21,"loadLineup"],[90,30,119,21],[90,35,119,33],[91,6,120,4],[91,10,120,8],[91,11,120,9,"user"],[91,15,120,13],[91,17,120,15],[92,6,122,4],[92,10,122,8],[93,8,123,6],[93,14,123,12,"response"],[93,22,123,20],[93,25,123,23],[93,31,123,29,"fetch"],[93,36,123,34],[93,37,123,35],[93,40,123,38,"BACKEND_URL"],[93,51,123,49],[93,64,123,62],[93,66,123,64],[94,10,124,8,"headers"],[94,17,124,15],[94,19,124,17],[95,12,125,10],[95,27,125,25],[95,29,125,27],[95,39,125,37,"user"],[95,43,125,41],[95,44,125,42,"token"],[95,49,125,47],[96,10,126,8],[97,8,127,6],[97,9,127,7],[97,10,127,8],[98,8,129,6],[98,12,129,10,"response"],[98,20,129,18],[98,21,129,19,"ok"],[98,23,129,21],[98,25,129,23],[99,10,130,8],[99,16,130,14,"data"],[99,20,130,18],[99,23,130,21],[99,29,130,27,"response"],[99,37,130,35],[99,38,130,36,"json"],[99,42,130,40],[99,43,130,41],[99,44,130,42],[100,10,131,8,"setLineup"],[100,19,131,17],[100,20,131,18],[101,12,132,10,"setter"],[101,18,132,16],[101,20,132,18,"data"],[101,24,132,22],[101,25,132,23,"setter"],[101,31,132,29],[102,12,133,10,"outsideHitter"],[102,25,133,23],[102,27,133,25,"data"],[102,31,133,29],[102,32,133,30,"outsideHitter"],[102,45,133,43],[103,12,134,10,"oppositeHitter"],[103,26,134,24],[103,28,134,26,"data"],[103,32,134,30],[103,33,134,31,"oppositeHitter"],[103,47,134,45],[104,12,135,10,"middleBlocker"],[104,25,135,23],[104,27,135,25,"data"],[104,31,135,29],[104,32,135,30,"middleBlocker"],[104,45,135,43],[105,12,136,10,"libero"],[105,18,136,16],[105,20,136,18,"data"],[105,24,136,22],[105,25,136,23,"libero"],[105,31,136,29],[106,12,137,10,"defensiveSpecialist"],[106,31,137,29],[106,33,137,31,"data"],[106,37,137,35],[106,38,137,36,"defensiveSpecialist"],[106,57,137,55],[107,12,138,10,"creditsUsed"],[107,23,138,21],[107,25,138,23,"data"],[107,29,138,27],[107,30,138,28,"creditsUsed"],[107,41,138,39],[107,45,138,43],[107,46,138,44],[108,12,139,10,"remaining"],[108,21,139,19],[108,23,139,21,"data"],[108,27,139,25],[108,28,139,26,"remaining"],[108,37,139,35],[108,41,139,39],[109,10,140,8],[109,11,140,9],[109,12,140,10],[110,8,141,6],[111,6,142,4],[111,7,142,5],[111,8,142,6],[111,15,142,13,"error"],[111,20,142,18],[111,22,142,20],[112,8,143,6,"console"],[112,15,143,13],[112,16,143,14,"error"],[112,21,143,19],[112,22,143,20],[112,46,143,44],[112,48,143,46,"error"],[112,53,143,51],[112,54,143,52],[113,6,144,4],[114,4,145,2],[114,5,145,3],[115,4,147,2],[115,24,148,4],[115,28,148,4,"_reactJsxDevRuntime"],[115,47,148,4],[115,48,148,4,"jsxDEV"],[115,54,148,4],[115,56,148,5,"TeamContext"],[115,67,148,16],[115,68,148,17,"Provider"],[115,76,148,25],[116,6,148,26,"value"],[116,11,148,31],[116,13,148,33],[117,8,148,35,"lineup"],[117,14,148,41],[118,8,148,43,"setPlayerToPosition"],[118,27,148,62],[119,8,148,64,"saveLineup"],[119,18,148,74],[120,8,148,76,"loadLineup"],[120,18,148,86],[121,8,148,88,"saving"],[122,6,148,95],[122,7,148,97],[123,6,148,97,"children"],[123,14,148,97],[123,16,149,7,"children"],[124,4,149,15],[125,6,149,15,"fileName"],[125,14,149,15],[125,16,149,15,"_jsxFileName"],[125,28,149,15],[126,6,149,15,"lineNumber"],[126,16,149,15],[127,6,149,15,"columnNumber"],[127,18,149,15],[128,4,149,15],[128,11,150,26],[128,12,150,27],[129,2,152,0],[130,2,154,7],[130,11,154,16,"useTeam"],[130,18,154,23,"useTeam"],[130,19,154,23],[130,21,154,26],[131,4,155,2],[131,10,155,8,"context"],[131,17,155,15],[131,20,155,18],[131,24,155,18,"useContext"],[131,30,155,28],[131,31,155,28,"useContext"],[131,41,155,28],[131,43,155,29,"TeamContext"],[131,54,155,40],[131,55,155,41],[132,4,156,2],[132,8,156,6,"context"],[132,15,156,13],[132,20,156,18,"undefined"],[132,29,156,27],[132,31,156,29],[133,6,157,4],[133,12,157,10],[133,16,157,14,"Error"],[133,21,157,19],[133,22,157,20],[133,66,157,64],[133,67,157,65],[134,4,158,2],[135,4,159,2],[135,11,159,9,"context"],[135,18,159,16],[136,2,160,0],[137,0,160,1],[137,3]],"functionMap":{"names":["<global>","TeamProvider","useEffect$argument_0","calculateCredits","positions.forEach$argument_0","setPlayerToPosition","saveLineup","loadLineup","useTeam"],"mappings":"AAA;OC6C;YCiB;GDI;2BEE;sBCG;KDK;GFE;8BIE;GJI;qBKE;GL8B;qBME;GN0B;CDO;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}